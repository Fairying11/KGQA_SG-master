<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>人物实体属性查询</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            text-align: center;
            color: #333;
        }
       .query-box {
            text-align: center;
            margin: 30px 0;
        }
        #keyword {
            padding: 10px;
            width: 300px;
            font-size: 16px;
            border: 2px solid #43a2f1;
            border-radius: 4px;
        }
        button {
            padding: 10px 20px;
            background-color: #43a2f1;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin-left: 10px;
        }
        button:hover {
            background-color: #3088d4;
        }
       .result-box {
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 20px;
            min-height: 300px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
       .info-item {
            margin: 15px 0;
        }
       .info-label {
            font-weight: bold;
            color: #555;
        }
        img {
            max-width: 300px;
            margin-top: 20px;
            border-radius: 4px;
        }
    </style>
    <script src="/static/js/jquery-2.2.4.min.js"></script>
</head>
<body>
    <h1>人物实体属性查询</h1>
    <div class="query-box">
        <input type="text" id="keyword" placeholder="请输入人物名称（如：李白）" value="李白">
        <button onclick="queryAttribute()">查询属性</button>
    </div>
    <div class="result-box" id="result"></div>

    <script>
        function queryAttribute() {
            const keyword = $('#keyword').val().trim();
            if (!keyword) {
                alert('请输入人物名称');
                return;
            }

            $.ajax({
                url: '/star/attribute',
                type: 'POST',
                contentType: 'application/json',
                data: JSON.stringify({ "keyword": keyword }),
                success: function(res) {
                    if (res.status === 200) {
                        const data = res.respon;
                        let html = `
                            <h2>${data.name}</h2>
                            <div class="info-item">
                                <span class="info-label">简介：</span>
                                <span>${data.summary}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">基本信息：</span>
                                <ul>
                                    <li>别名：${data.basicInfo.别名}</li>
                                    <li>所处时代：${data.basicInfo.所处时代}</li>
                                    <li>籍贯：${data.basicInfo.籍贯}</li>
                                </ul>
                            </div>
                        `;
                        // 显示图片（如果有）
                        if (data.pic) {
                            html += `<div class="info-item">
                                <span class="info-label">人物图片：</span>
                                <br>
                                <img src="${data.pic}" alt="${data.name}">
                            </div>`;
                        }
                        $('#result').html(html);
                    } else {
                        $('#result').html(`<p style="color: red;">${res.respon}</p>`);
                    }
                },
                error: function(xhr) {
                    $('#result').html(`<p style="color: red;">请求失败：${xhr.statusText}</p>`);
                }
            });
        }

        // 页面加载后自动查询
        $(function() {
            queryAttribute();
        });
    </script>
</body>
</html>
